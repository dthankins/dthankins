<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        
        <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
		
	    <!-- Load the jQuery library, which we'll use to manipulate HTML elements with Javascript. -->
	    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>


		<!-- Load Bootstrap stylesheet, which will is CSS that makes everything prettier and also responsive (aka will work on all devices of all sizes). 
	
		<link rel="stylesheet" href="styles.css">
		-->

	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">


        <title>Get Data</title>
    





    </head>

  	<body>
      	<h1>Get Data Test</h1>

      	<p>
      
      	<ul id="protocol-List">

      		<!-- the javascript will add li and p elements here to list items from the database-->

      	</ul>

		<script>

			  // Initialize Firebase
			  var config = {
			    apiKey: "AIzaSyC0GTC9H2AQCt-EReTwTJtwnhJlsfZHVa4",
			    authDomain: "testdannyhankins.firebaseapp.com",
			    databaseURL: "https://testdannyhankins.firebaseio.com",
			    projectId: "testdannyhankins",
			    storageBucket: "testdannyhankins.appspot.com",
			    messagingSenderId: "235442361676"
			  };
			  
			  firebase.initializeApp(config);

			  //test to see it is working
			  console.log(firebase);



			var database = firebase.database();
			var ref = database.ref("protocols");

			ref.on("value", gotData);


			function gotData(data) {
			  var protocols = data.val();
			  // Grab the keys to iterate over the object
			  var keys = Object.keys(protocols);

			  for (var i = 0; i < keys.length; i++) {
			    var key = keys[i];
			    // Look at each protocol object
			    var protocol = protocols[key];
			    
			  //test to see it is working
			    console.log(protocol);

			    var username = protocol.username;
			    var scanToDo = protocol.scanToDo;


			    var li = document.createElement("LI");                					 // Create a <li> node
			    var dataForLI = document.createTextNode(username + " " + scanToDo); 	// Create a text node
			    li.appendChild(dataForLI);												// Append the text to <li>
				document.getElementById("protocol-List").appendChild(dataForLI);    // Append <li> to <ul> with id="protocol-List"

				var para = document.createElement("P");                       // Create a <p> node
				document.getElementById("protocol-List").appendChild(para);    // Append <p> to <ul> with id="protocol-List"

			 



			  }
			}







		</script>


    </body>


